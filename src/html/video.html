<!DOCTYPE html>
<html>
  <head>
    <title>Pathfora CSS Playground</title>
  </head>
  <body>
    <script src="https://c.lytics.io/static/pathfora.min.js"></script>

    <script>
      var vidModal = new pathfora.Form({
        id: 'vidModal',
        layout: 'modal',
        headline: 'A Special Message from Marc Lichtenfeld...',
        msg: 'Click play button to listen',
        className: 'pf-video-OC',
        showForm: false,
        cancelShow: false,
        okMessage: 'UPGRADE NOW',
        formElements: [
          {
            'type': 'text',
            'name': 'email',
            'label': '',
            'placeholder': 'Enter email...',
            'required': true
          }
        ],
        confirmAction: {
          name: 'upgrade',
          callback: function (event, payload) {
            window.location = 'https://orders.oxfordclub.com/BRKLTRNWL395LM/QBRKU900/index.htm?pageNumber=2';
          }
        },
        "onLoad": function(event, module) {
            var okBtn = document.querySelector(".pf-video-OC .pf-widget-ok");
            okBtn.style.display = 'none';
            setTimeout (function() {okBtn.style.display = ""}, 10000);
            var e = document.querySelector(".pf-video-OC .pf-widget-container .pf-va-middle .pf-widget-content .pf-widget-body .pf-va-middle");
            var d1 = document.createElement("div");
            var s1 = document.createElement("script");
            var s2 = document.createElement("script");
            s1.setAttribute("type", "text/javascript");
            s1.setAttribute("src", "https://fast.wistia.com/embed/medias/colcwidps2.jsonp");
            s2.setAttribute("type", "text/javascript");
            s2.setAttribute("src", "https://fast.wistia.com/assets/external/E-v1.js");
            var embedString = '<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><div class="wistia_embed wistia_async_colcwidps2 videoFoam=true" style="height:100%;position:relative;width:100%"><div class="wistia_swatch" style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;"><img src="https://fast.wistia.com/embed/medias/colcwidps2/swatch" style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" onload="this.parentNode.style.opacity=1;" /></div></div></div></div>';
            d1.insertAdjacentElement("beforeend",s1);
            d1.insertAdjacentElement("beforeend",s2);
            d1.insertAdjacentHTML("beforeend", embedString);
            e.insertAdjacentElement("afterbegin", d1);
        }
      });

      // load custom css
      var head  = document.getElementsByTagName('head')[0];
      var link  = document.createElement('link');
      var cssfile = 'lytics_overrides.css';
      link.rel  = 'stylesheet';
      link.type = 'text/css';
      link.href = cssfile;
      head.appendChild(link);

      // initialize widgets
      pathfora.initializeWidgets([vidModal]);
    </script>
  </body>
</html>